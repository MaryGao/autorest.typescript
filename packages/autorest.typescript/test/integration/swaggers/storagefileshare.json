{
  "swagger": "2.0",
  "info": {
    "title": "Azure File Storage",
    "version": "2020-04-08",
    "x-ms-code-generation-settings": {
      "header": "MIT",
      "strictSpecAdherence": false
    }
  },
  "x-ms-parameterized-host": {
    "hostTemplate": "{url}",
    "useSchemePrefix": false,
    "positionInOperation": "first",
    "parameters": [
      {
        "$ref": "#/parameters/Url"
      }
    ]
  },
  "securityDefinitions": {
    "File_shared_key": {
      "type": "apiKey",
      "name": "Authorization",
      "in": "header"
    }
  },
  "schemes": ["https"],
  "consumes": ["application/xml"],
  "produces": ["application/xml"],
  "paths": {},
  "x-ms-paths": {
    "/{shareName}/{directory}/{fileName}?comp=range&fromURL": {
      "put": {
        "tags": ["file"],
        "operationId": "File_UploadRangeFromURL",
        "description": "Upload a range of bytes to a file where the contents are read from a URL.",
        "parameters": [
          {
            "$ref": "#/parameters/Timeout"
          },
          {
            "$ref": "#/parameters/TargetRange"
          },
          {
            "$ref": "#/parameters/CopySource"
          },
          {
            "$ref": "#/parameters/SourceRange"
          },
          {
            "$ref": "#/parameters/FileRangeWriteFromUrl"
          },
          {
            "$ref": "#/parameters/ContentLength"
          },
          {
            "$ref": "#/parameters/SourceContentCrc64"
          },
          {
            "$ref": "#/parameters/SourceIfMatchCrc64"
          },
          {
            "$ref": "#/parameters/SourceIfNoneMatchCrc64"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          },
          {
            "$ref": "#/parameters/LeaseIdOptional"
          }
        ],
        "responses": {
          "201": {
            "description": "Success (Created).",
            "headers": {
              "ETag": {
                "type": "string",
                "format": "etag",
                "description": "The ETag contains a value which represents the version of the file, in quotes."
              },
              "Last-Modified": {
                "type": "string",
                "format": "date-time-rfc1123",
                "description": "Returns the date and time the directory was last modified. Any operation that modifies the share or its properties or metadata updates the last modified time. Operations on files do not affect the last modified time of the share."
              },
              "x-ms-content-crc64": {
                "type": "string",
                "format": "byte",
                "description": "This header is returned so that the client can check for message content integrity. The value of this header is computed by the File service; it is not necessarily the same value as may have been specified in the request headers."
              },
              "x-ms-request-id": {
                "x-ms-client-name": "RequestId",
                "type": "string",
                "description": "This header uniquely identifies the request that was made and can be used for troubleshooting the request."
              },
              "x-ms-version": {
                "x-ms-client-name": "Version",
                "type": "string",
                "description": "Indicates the version of the File service used to execute the request."
              },
              "Date": {
                "type": "string",
                "format": "date-time-rfc1123",
                "description": "A UTC date/time value generated by the service that indicates the time at which the response was initiated."
              },
              "x-ms-request-server-encrypted": {
                "x-ms-client-name": "IsServerEncrypted",
                "type": "boolean",
                "description": "The value of this header is set to true if the contents of the request are successfully encrypted using the specified algorithm, and false otherwise."
              }
            }
          },
          "default": {
            "description": "Failure",
            "headers": {
              "x-ms-error-code": {
                "x-ms-client-name": "ErrorCode",
                "type": "string"
              }
            },
            "schema": {
              "$ref": "#/definitions/StorageError"
            }
          }
        }
      },
      "parameters": [
        {
          "name": "comp",
          "in": "query",
          "required": true,
          "type": "string",
          "enum": ["range"]
        }
      ]
    }
  },
  "definitions": {
    "StorageError": {
      "type": "object",
      "properties": {
        "Message": {
          "type": "string"
        }
      }
    }
  },
  "parameters": {
    "Timeout": {
      "name": "timeout",
      "in": "query",
      "description": "The timeout parameter is expressed in seconds. For more information, see <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/Setting-Timeouts-for-File-Service-Operations?redirectedfrom=MSDN\">Setting Timeouts for File Service Operations.</a>",
      "required": false,
      "type": "integer",
      "minimum": 0,
      "x-ms-parameter-location": "method"
    },
    "TargetRange": {
      "name": "x-ms-range",
      "x-ms-client-name": "Range",
      "in": "header",
      "required": true,
      "type": "string",
      "x-ms-parameter-location": "method",
      "description": "Writes data to the specified byte range in the file."
    },
    "CopySource": {
      "name": "x-ms-copy-source",
      "x-ms-client-name": "copySource",
      "in": "header",
      "required": true,
      "type": "string",
      "x-ms-parameter-location": "method",
      "description": "Specifies the URL of the source file or blob, up to 2 KB in length. To copy a file to another file within the same storage account, you may use Shared Key to authenticate the source file. If you are copying a file from another storage account, or if you are copying a blob from the same storage account or another storage account, then you must authenticate the source file or blob using a shared access signature. If the source is a public blob, no authentication is required to perform the copy operation. A file in a share snapshot can also be specified as a copy source."
    },
    "FileRangeWriteFromUrl": {
      "name": "x-ms-write",
      "x-ms-client-name": "fileRangeWriteFromUrl",
      "in": "header",
      "description": "Only update is supported: - Update: Writes the bytes downloaded from the source url into the specified range.",
      "required": true,
      "type": "string",
      "enum": ["update"],
      "default": "update",
      "x-ms-enum": {
        "name": "FileRangeWriteFromUrlType",
        "modelAsString": false
      }
    },
    "ContentLength": {
      "name": "Content-Length",
      "x-ms-client-name": "contentLength",
      "in": "header",
      "description": "Specifies the number of bytes being transmitted in the request body. When the x-ms-write header is set to clear, the value of this header must be set to zero.",
      "required": true,
      "type": "integer",
      "format": "int64",
      "x-ms-parameter-location": "method"
    },
    "SourceContentCrc64": {
      "name": "x-ms-source-content-crc64",
      "x-ms-client-name": "sourceContentCrc64",
      "in": "header",
      "required": false,
      "type": "string",
      "format": "byte",
      "x-ms-parameter-location": "method",
      "description": "Specify the crc64 calculated for the range of bytes that must be read from the copy source."
    },
    "SourceIfMatchCrc64": {
      "name": "x-ms-source-if-match-crc64",
      "x-ms-client-name": "sourceIfMatchCrc64",
      "in": "header",
      "required": false,
      "type": "string",
      "format": "byte",
      "x-ms-parameter-location": "method",
      "x-ms-parameter-grouping": {
        "name": "source-modified-access-conditions"
      },
      "description": "Specify the crc64 value to operate only on range with a matching crc64 checksum."
    },
    "SourceIfNoneMatchCrc64": {
      "name": "x-ms-source-if-none-match-crc64",
      "x-ms-client-name": "sourceIfNoneMatchCrc64",
      "in": "header",
      "required": false,
      "type": "string",
      "format": "byte",
      "x-ms-parameter-location": "method",
      "x-ms-parameter-grouping": {
        "name": "source-modified-access-conditions"
      },
      "description": "Specify the crc64 value to operate only on range without a matching crc64 checksum."
    },
    "ApiVersionParameter": {
      "name": "x-ms-version",
      "x-ms-client-name": "version",
      "in": "header",
      "description": "Specifies the version of the operation to use for this request.",
      "required": true,
      "type": "string",
      "enum": ["2020-04-08"]
    },
    "LeaseIdOptional": {
      "name": "x-ms-lease-id",
      "x-ms-client-name": "leaseId",
      "in": "header",
      "required": false,
      "type": "string",
      "x-ms-parameter-location": "method",
      "x-ms-parameter-grouping": {
        "name": "lease-access-conditions"
      },
      "description": "If specified, the operation only succeeds if the resource's lease is active and matches this ID."
    },
    "Url": {
      "name": "url",
      "in": "path",
      "description": "The URL of the service account, share, directory or file that is the target of the desired operation.",
      "required": true,
      "type": "string",
      "x-ms-skip-url-encoding": true
    },
    "SourceRange": {
      "name": "x-ms-source-range",
      "x-ms-client-name": "sourceRange",
      "in": "header",
      "required": false,
      "type": "string",
      "x-ms-parameter-location": "method",
      "description": "Bytes of source data in the specified range."
    }
  }
}
